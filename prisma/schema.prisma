// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User{
  puuid String @id
  summonerId String @unique
  summonerName String
  totalWin Int?
  totalLose Int?
  rank	String?
  tier String?
  latestGame DateTime?
  lastGame DateTime?
  champ Champ[]
}

model Match{
  matchId String @id
  gameEndTimestamp DateTime
  participants MatchParticipants[]
}

model MatchParticipants{
  match Match @relation(fields: [matchId], references: [matchId])
  matchId String
  gameEndTimestamp DateTime
  puuid String
  assist Int
  deaths Int
  kills Int
  win Boolean
  championId Int
  @@id([matchId, puuid])
}

model Champ{
  id Int //championId
  user User @relation(fields: [userId], references:[puuid])
  userId String
  win Int
  lose Int
  kill Int
  death Int
  assist Int

  @@id([id,userId])
}